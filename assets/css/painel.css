/* =======================================================
   RESET + BASE
======================================================= */

* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 30px;
    color: #222;
    background-color: #f0f3f7;
}

/* Container Principal */
.main-container {
    max-width: 1500px;
    width: 100%;
    margin: 40px auto;
    padding: 24px;
    background-color: #ffffff;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(15,23,42,0.1);
    border: 1px solid #e5e7eb;
    overflow: hidden;
}

/* =======================================================
   NAV SUPERIOR
======================================================= */

.top-nav {
    width: 100%;
    background: #ffffff;
    padding: 16px 24px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(15,23,42,.06);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.top-logo {
    height: 45px;
    opacity: 0.95;
    margin-right: 20px;
}

.top-nav-left,
.top-nav-right {
    width: 180px;
    display: flex;
    align-items: center;
}

.top-nav-center {
    flex: 1;
    display: flex;
    justify-content: center;
}

.top-nav-items {
    display: flex;
    gap: 32px;
}

.nav-item {
    font-size: 15px;
    color: #555;
    text-decoration: none;
    padding: 6px 14px;
    border-radius: 8px;
    transition: 0.25s;
    white-space: nowrap;
}

.nav-item:hover {
    background: #f3f7ff;
    color: #2563eb;
}

.nav-item.active {
    background: #e6f0ff;
    color: #2563eb;
    font-weight: 600;
}

/* =======================================================
   TITULOS
======================================================= */

.titulo-pagina {
    margin: 0;
    margin-top: 12px;
    font-size: 1.9rem;
    font-weight: 700;
    text-align: center;
    color: #111827;
}

/* =======================================================
   SECTIONS / BLOCOS
======================================================= */

.dash-section {
    margin: 24px 0;
    padding: 20px 24px;
    border-radius: 16px;
    background: #ffffff;
    box-shadow: 0 4px 14px rgba(15,23,42,0.06);
    border: 1px solid #e5e7eb;
}

.dash-section.no-shadow {
    box-shadow: none;
    border: none;
    padding: 0;
    margin: 0;
    background: transparent;
}

.dash-section-header h2 {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 600;
    color: #111827;
}

/* =======================================================
   RANKINGS — CARDS
======================================================= */

.rankings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
}

.ranking-card {
    background: #ffffff;
    border-radius: 18px;
    padding: 26px 28px;
    min-height: 165px;
    box-shadow: 0 8px 18px rgba(15,23,42,.10);
    transition: 0.25s;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ranking-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 26px rgba(15,23,42,.16);
}

.ranking-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
}

.ranking-list {
    list-style: none;
    padding: 0;
    margin: 6px 0 0 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ranking-item {
    display: grid;
    grid-template-columns: 26px 1fr auto;
    align-items: center;
    padding: 6px 8px;
    gap: 10px;
}

.ranking-item-pos {
    font-weight: 700;
    font-size: 0.8rem;
    padding: 2px 6px;
    border-radius: 999px;
    min-width: 22px;
    text-align: center;
}

.pos-1 { background: #0596691a; color: #047857; }
.pos-2 { background: #2563eb1a; color: #1d4ed8; }
.pos-3 { background: #f59e0b1a; color: #b45309; }

.ranking-item-nome {
    color: #111827;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ranking-item-valor {
    font-variant-numeric: tabular-nums;
    font-weight: 600;
    color: #111827;
}

/* Botão Ver Todos */
#btnToggleAll {
    background: #2d6cdf;
    color: #fff;
    padding: 8px 18px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    font-size: .9rem;
}
#btnToggleAll:hover { background: #1b4fb1; }

/* =======================================================
   TABELA SETORES
======================================================= */

table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
}

th {
    padding: 12px;
    background: #f4f6f9;
    border-bottom: 2px solid #ddd;
    font-size: 14px;
    color: #444;
    position: relative;
}

tbody tr:nth-child(even) {
    background: #fafafa;
}

td {
    padding: 8px;
    border-bottom: 1px solid #eee;
}

.nivel-0 td {
    font-weight: bold;
    background: #f7f9ff !important;
}

.toggle {
    cursor: pointer;
    margin-right: 8px;
}

.hidden-row {
    display: none;
}

/* =======================================================
   TOOLTIP
======================================================= */

.th-tooltip {
    position: relative;
}

.th-tooltip .th-tooltip-text {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    background: #fff;
    border: 1px solid #ddd;
    padding: 10px;
    border-radius: 6px;
    width: 260px;
    transform: translateY(-100%);
    transition: opacity .2s;
    box-shadow: 0 3px 10px rgba(0,0,0,.15);
}

.th-tooltip:hover .th-tooltip-text {
    opacity: 1;
    visibility: visible;
}

.info-tooltip {
    border-radius: 50%;
    width: 22px;
    height: 22px;
    background: #e5e7eb;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    cursor: default;
    font-size: .82rem;
}

/* Cores desempenho */
.pct-good { color: #1e9e5a; font-weight: 600; }
.pct-medium { color: #d89c00; font-weight: 600; }
.pct-bad { color: #c0392b; font-weight: 600; }


/* ================================
   TOOLTIP DO CABEÇALHO DA TABELA
   (Texto que explica cada coluna)
================================ */
.th-tooltip {
    position: relative;
}

.th-tooltip-text {
    visibility: hidden;
    opacity: 0;
    transition: opacity .25s;
    background: #fff;
    border: 1px solid #d1d5db;
    padding: 8px 12px;
    border-radius: 6px;
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%) translateY(-100%);
    white-space: normal;
    width: 200px;
    z-index: 40;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.th-tooltip:hover .th-tooltip-text {
    visibility: visible;
    opacity: 1;
}


/* ==================================
   TOOLTIP DOS CARDS (botão “i”)
================================== */
.info-tooltip {
    position: relative;
    cursor: pointer;
}

.info-tooltip::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 130%;
    left: 50%;
    transform: translateX(-50%);
    background: #111827;
    color: #f9fafb;
    padding: 8px 10px;
    font-size: .75rem;
    border-radius: 8px;
    line-height: 1.3;
    width: 220px;
    opacity: 0;
    visibility: hidden;
    transition: opacity .25s;
    z-index: 50;
    pointer-events: none;
}

.info-tooltip::before {
    content: "";
    position: absolute;
    bottom: 115%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 6px;
    border-style: solid;
    border-color: #111827 transparent transparent transparent;
    opacity: 0;
    visibility: hidden;
    transition: opacity .25s;
}

.info-tooltip:hover::after,
.info-tooltip:hover::before {
    opacity: 1;
    visibility: visible;
}
       /* Estilo do Grid interno */
        .tooltip-consolidado h4 {
            margin: 0 0 8px;
            font-size: 1rem;
            color: #111827;
            font-weight: 700;
            border-bottom: 1px solid #eee;
            padding-bottom: 4px;
        }


        <style>
        /* =======================================================
            ESTILOS GLOBAIS E ESTRUTURA (UNIÃO DE ESTILOS)
        ========================================================== */

        /* Ajuste do Body: Fundo para contraste e remoção de margem padrão */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 30px;
            color: #222;
            background-color: #f0f3f7;
        }

        /* Estilo do Container Principal (Box Branca Centralizada) */
        .main-container {
            max-width: 1500px;
            width: 100%;
            margin: 40px auto;
            padding: 24px;
            background-color: #ffffff;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(15, 23, 42, 0.1);
            border: 1px solid #e5e7eb;
            overflow: hidden;
        }
/* NAV SUPERIOR AJUSTADA */
.top-nav {
    width: 100%;
    background: #ffffff;
    padding: 16px 24px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(15, 23, 42, .06);
    display: flex;
    align-items: center;
    justify-content: space-between; /* permite logo esquerda + menu centro */
}

/* LOGO */
.top-logo {
    height: 45px;
    opacity: .95;
    margin-right: 20px;
}

.top-nav-left,
.top-nav-right {
    width: 180px; /* cria equilíbrio visual para centralizar o menu */
    display: flex;
    align-items: center;
}

.top-nav-center {
    flex: 1;
    display: flex;
    justify-content: center;
}

/* MENU */
.top-nav-items {
    display: flex;
    gap: 32px;
}


        .nav-item {
            font-size: 15px;
            color: #555;
            text-decoration: none;
            padding: 6px 14px;
            border-radius: 8px;
            transition: 0.25s;
            white-space: nowrap;
        }

        .nav-item:hover {
            background: #f3f7ff;
            color: #2563eb;
        }

        .nav-item.active {
            background: #e6f0ff;
            color: #2563eb;
            font-weight: 600;
        }

        /* Seção geral (Bloco de conteúdo com borda e sombra) */
        .dash-section {
            margin: 24px 0;
            padding: 20px 24px;
            border-radius: 16px;
            background: #ffffff;
            box-shadow: 0 4px 14px rgba(15, 23, 42, 0.06);
            border: 1px solid #e5e7eb;
        }

        /* Removendo a sombra e borda quando a dash-section é usada apenas para agrupar */
        .dash-section.no-shadow {
            box-shadow: none;
            border: none;
            padding: 0;
            margin: 0;
            background: transparent;
        }

        /* --- TÍTULOS --- */
        h1 {
            color: #007bff;
            font-size: 1.5em;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        h2 {
            color: #111827;
            font-size: 1.45rem; /* Ajuste para ser o mesmo tamanho do Painel de Setores */
            font-weight: 700;
            margin-top: 0;
            margin-bottom: 25px;
        }

        h3 {
            color: #111827;
            font-size: 1.25em;
            font-weight: 600;
            margin-top: 25px;
            margin-bottom: 16px;
        }

        hr {
            border: none;
            border-top: 1px solid #e0e0e0;
            margin: 30px 0;
        }


        /* =======================================================
            FILTRO E CARDS DE CONTAGEM
        ========================================================== */

        .filter-panel {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
            padding: 15px 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background-color: #f7f9fb;
        }

        .filter-panel input,
        .filter-panel button {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        .btn-primary {
            background-color: #2563eb;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 600;
        }

        .btn-primary:hover {
            background-color: #1d4ed8;
        }

        .card-deck {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .user-stat-card {
            padding: 20px;
            border: 1px solid #dcdcdc;
            border-radius: 12px;
            text-align: center;
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            font-size: 0.9rem;
            color: #6b7280;
        }

        .user-stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .user-stat-card strong {
            display: block;
            font-size: 2.2em;
            color: #2563eb;
            margin-top: 5px;
            font-weight: 700;
        }

        /* =======================================================
            RANKING E GRÁFICOS
        ========================================================== */

        .section-content-flex {
            display: flex;
            gap: 40px;
            margin-top: 30px;
        }

        .ranking-box {
            flex: 1;
            min-width: 45%;
        }

        .ranking-list {
            list-style-type: none;
            counter-reset: ranking-counter;
            padding: 0;
            margin-top: 10px;
        }

        .ranking-list li {
            counter-increment: ranking-counter;
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            color: #111827;
        }

        .ranking-list li::before {
            content: counter(ranking-counter);
            font-weight: 700;
            color: #007bff;
            font-size: 1.2em;
            min-width: 25px;
            text-align: center;
            margin-right: 15px;
        }

        .ranking-list li:nth-child(1)::before {
            color: #f59e0b;
        }

        .ranking-list li:nth-child(2)::before {
            color: #9ca3af;
        }

        .ranking-list li:nth-child(3)::before {
            color: #b45309;
        }

        .chart-container {
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            background-color: #fcfcfc;
            height: 300px;
        }

        /* =======================================================
            TABELA
        ========================================================== */

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            border-radius: 8px;
            overflow: hidden;
        }

        .table thead th {
            padding: 12px;
            background-color: #e6f0ff;
            color: #2563eb;
            text-align: left;
            font-size: 0.9rem;
            font-weight: 600;
            border-bottom: 2px solid #b3d9ff;
        }

        .table tbody td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            vertical-align: middle;
            font-size: 0.95rem;
        }

        .table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .table tbody tr:hover {
            background-color: #f0f8ff;
        }

        .text-success {
            color: #10b981;
            font-weight: 600;
        }

        .text-danger {
            color: #ef4444;
            font-weight: 600;
        }

        
/* ====== ajustes pequenos para visão geral, sem quebrar o padrão ====== */

/* Deixa um “wide card” (economia) ocupar 2 colunas quando houver espaço */
.kpi-card--wide { grid-column: span 2; }
@media (max-width: 900px){ .kpi-card--wide { grid-column: auto; } }

/* Destaque sutil no card de economia */
.kpi-card--accent{
  background: #f8fffb;
  border-color: #ccf2de;
}
.kpi-card--accent strong{ color: #16a34a; }

/* Subtexto em KPIs */
.kpi__sub{
  margin-top: 6px;
  font-size: 12px;
  color: #6b7280;
}

/* números com alinhamento fixo para moeda */
.currency{ font-variant-numeric: tabular-nums; }
/* ====== KPI Cidadãos (homens/mulheres + idade média) ====== */
.kpi-cidadaos { position: relative; }

.kpi-cidadaos strong { margin-bottom: 2px; }

.kpi-people {
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 6px;
  align-items: center;
}

.kpi-people .sex {
  display: grid;
  grid-template-columns: 22px 1fr auto;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  background: #fafcff;
}

.sex-icon {
  width: 20px; height: 20px;
  fill: currentColor;
  opacity: .9;
}
.sex-icon.male   { color: #2563eb; }
.sex-icon.female { color: #ec4899; }

.kpi-people .sex span {
  color: #6b7280;
  font-size: .85rem;
}
.kpi-people .sex b {
  color: #111827;
  font-variant-numeric: tabular-nums;
}

.kpi-age {
  margin-top: 6px;
  text-align: center;
  padding-top: 10px;
  border-top: 1px dashed #e5e7eb;
}
.kpi-age span {
  display: block;
  font-size: .85rem;
  color: #6b7280;
  margin-bottom: 4px;
}
.kpi-age b {
  font-size:.85rem;
  color: #111827;
  font-variant-numeric: tabular-nums;
}


/* ====== DADOS DO PERÍODO ====== */
.periodo-header{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:10px
}
.periodo-title{display:flex;align-items:center;gap:8px;color:#b91c1c}
.periodo-title .dot{width:10px;height:10px;border-radius:50%;background:#ef4444;display:inline-block}
.year-select{padding:8px 10px;border:1px solid #e5e7eb;border-radius:8px;background:#fff}

.periodo-wrapper{margin-top:6px;overflow-x:auto}

.periodo-table{width:100%;border-collapse:collapse;border-radius:10px;overflow:hidden}
.periodo-table thead .top-head th{
  background:#fff5f5;color:#b91c1c;font-weight:700;border-bottom:2px solid #fecaca;
  padding:12px 10px;text-align:left
}
.periodo-table thead .sub-head th{
  background:#fffafa;color:#b45309;border-bottom:2px solid #fee2e2;font-weight:600;padding:8px 10px
}
.periodo-table th,.periodo-table td{padding:10px;border-bottom:1px solid #f1f5f9;vertical-align:middle}
.periodo-table tbody tr:nth-child(even){background:#fffdfd}
.periodo-table tbody tr:hover{background:#fff7f7}
.periodo-table .center{text-align:center}
.periodo-table .right{text-align:right;font-variant-numeric:tabular-nums}

.periodo-total{background:#fff5f5;font-weight:700;color:#b91c1c;border-top:2px solid #fecaca}
.periodo-total td,.periodo-total th{padding:12px 10px}

.sr-only{color:transparent}

/* responsivo pequeno */
@media (max-width: 860px){
  .periodo-table thead .sub-head{display:none}
}


/* mini pílulas dentro do card de cidadãos */
.kpi-minirow {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: auto;
  padding-top: 8px;
  border-top: 1px dashed #e5e7eb;
}
.pill {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  padding: 3px 8px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #f9fafb;
}
.pill-m { color:#2563eb; }
.pill-f { color:#ec4899; }

.mini-note {
  text-align: center;
  font-size: 12px;
  color: #6b7280;
  margin-top: 6px;
}
.mini-note b {
  display:block;
  margin-top:2px;
  font-size: 18px;
  color: #111827;
}

/* alinhamento da tabela de economia */
.ta-right { text-align: right; }
