<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vis√£o Geral</title>

  <!-- mesmo css global j√° usado nas outras p√°ginas -->
  <link rel="stylesheet" href="assets/css/painel.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div class="main-container">
    <!-- NAV SUPERIOR (igual √†s outras p√°ginas) -->
    <div class="top-nav">
      <div class="top-nav-left">
        <img src="cc.png" class="top-logo" alt="Cidade Conectada">
      </div>

      <div class="top-nav-center">
        <div class="top-nav-items">
          <a href="visaogeral.html"   class="nav-item active">Vis√£o Geral</a>
          <a href="setores.html"      class="nav-item">Setores</a>
          <a href="usuarios.html"     class="nav-item">Usu√°rios</a>
          <a href="solicitacoes.html" class="nav-item">Solicita√ß√µes</a>
          <a href="avaliacoes.html"   class="nav-item">Avalia√ß√µes</a>
          <a href="agendamentos.html" class="nav-item">Agendamentos</a>
        </div>
      </div>

      <div class="top-nav-right"></div>
    </div>

    <!-- T√çTULO -->
    <section class="dash-section" style="margin-bottom:20px;">
      <div style="display:flex;justify-content:center;align-items:center;text-align:center;padding:12px 0;">
        <div>
          <h2 style="margin:0;font-size:1.45rem;font-weight:700;">
            Vis√£o Geral do Munic√≠pio no Cidade Conectada
          </h2>
          <p style="margin:4px 0 0;color:#6b7280;font-size:.95rem;">
            Panorama consolidado de uso, qualidade e economia gerada pelo sistema
          </p>
        </div>
      </div>
    </section>

    <!-- KPIs PRINCIPAIS (reuso das mesmas classes) -->
    <section class="dash-section">
      <div class="card-deck" id="vg-kpis">
        <div class="user-stat-card">
          Efici√™ncia m√©dia
          <strong id="vg-eficiencia">‚Äî%</strong>
          <div class="kpi__sub">Conclu√≠das / Abertas</div>
        </div>

        <div class="user-stat-card">
          Qualidade m√©dia
          <strong id="vg-qualidade">‚Äî</strong>
          <div class="kpi__sub">Nota m√©dia das avalia√ß√µes</div>
        </div>

        <div class="user-stat-card">
          Servi√ßos cadastrados
          <strong id="vg-servicos">‚Äî</strong>
        </div>

        <div class="user-stat-card">
          Usu√°rios (servidores)
          <strong id="vg-usuarios">‚Äî</strong>
        </div>

        <div class="user-stat-card kpi-cidadaos">
  Cidad√£os (contas)
  <strong id="vg-cidadaos-total">‚Äî</strong>

  <div class="kpi-people">
    <div class="sex">
      <!-- √çcone masculino (SVG) -->
      <svg viewBox="0 0 24 24" class="sex-icon male" aria-hidden="true">
        <path d="M14 4h6v6h-2V7.41l-4.3 4.3a6 6 0 1 1-1.41-1.41L16.59 6H14V4Z"/>
      </svg>
     <b id="vg-cidadaos-homens">‚Äî</b>
    </div>

    <div class="sex">
      <!-- √çcone feminino (SVG) ‚Äî FIX: viewBox correto -->
<svg viewBox="0 0 24 24" class="sex-icon female" aria-hidden="true">
  <path d="M12 2a6 6 0 0 0-1 11.93V16H8v2h3v3h2v-3h3v-2h-3v-2.07A6 6 0 0 0 12 2Zm0 10a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z"/>
</svg>

      <b id="vg-cidadaos-mulheres">‚Äî</b>
    </div>
  </div>

  <div class="kpi-age">
    <span>M√©dia de Idade: <b id="vg-idade-media">‚Äî</b></span>
    <b id="vg-idade-media"></b>
  </div>
</div>


        <div class="user-stat-card">
          Setores
          <strong id="vg-setores">‚Äî</strong>
        </div>

        <div class="user-stat-card kpi-card--accent kpi-card--wide">
          Economia estimada
          <strong id="vg-economia" class="currency">‚Äî</strong>
          <div class="kpi__sub">P√°ginas/Impress√µes evitadas √ó custo m√©dio</div>
        </div>
      </div>
    </section>

    <!-- GR√ÅFICOS (mesma estrutura visual) -->
    <section class="dash-section" style="margin-top:10px;">
      <div class="section-content-flex">

        <div class="ranking-box" style="flex:1;">
          <h3>Evolu√ß√£o de uso (√∫ltimos 12 meses)</h3>
          <p style="font-size:.9rem;color:#6b7280;">Volume mensal de solicita√ß√µes/processos</p>
          <div class="chart-container" style="height:330px;">
       <canvas id="evolucaoUsoChart"></canvas>

          </div>
        </div>

        <div class="ranking-box" style="flex:1;">
          <h3>Distribui√ß√£o de Acessos por Perfil</h3>
          <p style="font-size:.9rem;color:#6b7280;">Servidores √ó Cidad√£os √ó Representantes</p>
          <div class="chart-container" style="height:330px;">
            <canvas id="vgAcessosPerfil"></canvas>
          </div>
        </div>

      </div>
    </section>

    <!-- RESUMO FINANCEIRO -->
    <section class="dash-section">
      <h3>Resumo de Economia</h3>
      <div class="card-deck">
        <div class="user-stat-card">
          P√°ginas economizadas
          <strong id="vg-paginas">‚Äî</strong>
          <div class="kpi__sub">documentos digitais √ó p√°ginas m√©dias</div>
        </div>

        <div class="user-stat-card">
          Impress√µes evitadas
          <strong id="vg-impressoes">‚Äî</strong>
          <div class="kpi__sub">inclui vias internas e externas</div>
        </div>

        <div class="user-stat-card">
          Custo m√©dio por p√°gina
          <strong id="vg-custo-pagina" class="currency">R$ ‚Äî</strong>
          <div class="kpi__sub">papel + impress√£o (estimativa)</div>
        </div>
      </div>
    </section>
  </div>

<script src="visao.js"></script>

  <!-- Exemplo de init (opcional): os IDs j√° est√£o preparados para voc√™ preencher via app.js -->
  <script>
    // Exemplo m√≠nimo s√≥ para a p√°gina n√£o ficar ‚Äúvazia‚Äù durante a integra√ß√£o.
    // Substitua por suas chamadas reais (API) no app.js.
    document.addEventListener("DOMContentLoaded", () => {
      // Placeholders (voc√™ vai setar com dados reais no app.js)
      const set = (id, v) => { const el = document.getElementById(id); if (el) el.textContent = v; };

       


      

      // Gr√°fico: Perfis (doughnut)
      const ctx2 = document.getElementById("vgAcessosPerfil");
      if (ctx2) {
        new Chart(ctx2, {
          type: "doughnut",
          data: {
            labels: ["Servidores", "Cidad√£os", "Representantes"],
            datasets: [{
              data: [58, 34, 8],
              backgroundColor: ["#2563eb", "#60a5fa", "#93c5fd"],
              borderColor: "#fff",
              borderWidth: 2
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: "bottom" }
            },
            cutout: "60%"
          }
        });
      }
    });
  </script>


<section class="dash-section">
  <div class="periodo-header">
    <div class="periodo-title">
      <span class="dot"></span>
      <strong>Dados do Per√≠odo ‚Äî Ano:</strong>
    </div>

    <div class="periodo-actions">
      <select id="vg-ano-select" class="year-select"></select>
    </div>
  </div>

  <div class="periodo-wrapper">
    <table class="periodo-table" id="vg-periodo-table">
      <thead>
        <tr class="top-head">
          <th>Per√≠odo</th>
          <th>Solicita√ß√µes</th>
          <th>Pessoas Atendidas</th>
          <th>Anexos</th>
          <th>Acessos</th>
          <th>üí∞ Economia Gerada</th>
        </tr>
        <tr class="sub-head">
          <th class="sr-only"></th>
          <th class="center">Geradas</th>
          <th class="center">Total do M√™s</th>
          <th class="center">Arquivos</th>
          <th class="center">Tamanho</th>
          <th class="center">Total</th>
          <th class="center">Estimada (R$)</th>
        </tr>
      </thead>
      <tbody id="vg-periodo-body"></tbody>
      <tfoot>
        <tr class="periodo-total" id="vg-periodo-totais">
          <!-- preenchido via JS -->
        </tr>
      </tfoot>
    </table>
  </div>
</section>








</body>
</html>
